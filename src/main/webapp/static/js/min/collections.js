var timedQueue=function(f){var g=function(a,e){var c,d;return{next:function(){return d},prev:function(){return c},setNext:function(a){d=a},setPrev:function(a){c=a},item:function(){return a},instant:function(){return e}}},c,a,d=function(){for(var b=(new Date).getTime()-f;void 0!=a&&a.instant()<b;){var e=a;a=a.prev();e.setPrev(void 0);void 0!=a&&a.setNext(void 0)}void 0==a&&(c=void 0)};return{enqueue:function(b){b=g(b,(new Date).getTime());void 0==c?(c=b,void 0==a&&(a=b)):(b.setNext(c),c.setPrev(b),
c=b);d()},dequeue:function(){d();if(void 0!=a){var b=a,c=a.item();a=a.prev();b.setPrev(void 0);a.setNext(void 0);return c}},peek:function(){d();return void 0!=a?a.item():void 0},items:function(){d();for(var b=a,c=[];void 0!=b;)c.push(b.item()),b=b.prev();return c},oldest:function(){return a},newest:function(){return c}}};
